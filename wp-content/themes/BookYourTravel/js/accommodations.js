	jQuery.noConflict();	jQuery(document).ready(function() {		jQuery('.radio').bind('click.uniform',			function (e) {				if (jQuery(this).find("span").hasClass('checked')) 					jQuery(this).find("input").attr('checked', true);				else					jQuery(this).find("input").attr('checked', false);			}		);			jQuery('.book-accommodation').on('click', function(event) {			var buttonId = jQuery(this).attr('id');			var roomTypeId = buttonId.replace('book-accommodation-', '');			window.roomTypeId = roomTypeId;			jQuery('#bf_room_type_row').show();			jQuery('#bf_self_catered_row').hide();			jQuery('#room_type').html(jQuery('li#room_type_' + roomTypeId + ' .room_type h2').html());			jQuery('#room_price').html(jQuery('li#room_type_' + roomTypeId + ' .room-information .total_amount').val());			jQuery('#date_from').html(window.accommodationDateFrom);			jQuery('#date_to').html(window.accommodationDateTo);			jQuery('#date_from1').val(window.accommodationDateFrom);			jQuery('#date_to1').val(window.accommodationDateTo);			jQuery('#room_type_id').val(window.roomTypeId);			jQuery('#accommodation_id').val(window.accommodationId);						showBookingForm();		});				jQuery('.book-sf-accommodation').on('click', function(event) {			var buttonId = jQuery(this).attr('id');			jQuery('#bf_room_type_row').hide();			jQuery('#bf_self_catered_row').show();						var dataObj = {				'action':'total_price_ajax_request',				'accommodation_id' : window.accommodationId,				'date_from' : jQuery('#date_from1').val(),				'date_to' : jQuery('#date_to1').val(),				'nonce' : BYTAjax.nonce			}							jQuery.ajax({				url: BYTAjax.ajaxurl,				data: dataObj,				async: false,				success:function(data) {					// This outputs the result of the ajax request					console.log(data);					jQuery('#total_price').html(data);				},				error: function(errorThrown){					console.log(errorThrown);				}			}); 						jQuery('#room_type_id').val('');			jQuery('#accommodation_id').val(window.accommodationId);			showBookingForm();		});				jQuery('.review_accommodation').on('click', function(event) {			showReviewForm();		});					jQuery('.inquiry_accommodation').on('click', function(event) {			showInquiryForm();		});			jQuery('.cancel_review').on('click', function(event) {			hideReviewForm();		});			jQuery('.cancel_inquiry').on('click', function(event) {			hideInquiryForm();		});				jQuery('#review-form').validate({			onkeyup: false,			rules: {				likes: {					required: true				},				dislikes: "required"			},			invalidHandler: function(e, validator) {				var errors = validator.numberOfInvalids();				if (errors) {					var message = errors == 1						? window.formSingleError						: window.formMultipleError.format(errors);					jQuery("div.error span p").html(message);					jQuery("div.error").show();				} else {					jQuery("div.error").hide();				}			},			messages: {				likes: window.reviewFormLikesError,				dislikes: window.reviewFormDislikesError			},			submitHandler: function() { processReview(); },			debug:true		});				jQuery('#inquiry-form').validate({			onkeyup: false,			rules: {				your_name: "required",				your_email: { required:true, email:true },				your_phone: "required",				your_message: "required"			},			invalidHandler: function(e, validator) {				var errors = validator.numberOfInvalids();				if (errors) {					var message = errors == 1						? window.formSingleError						: window.formMultipleError.format(errors);					jQuery("div.error span p").html(message);					jQuery("div.error").show();				} else {					jQuery("div.error").hide();				}			},			messages: {				your_message: window.inquiryFormMessageError,				your_name: window.inquiryFormNameError,				your_email: window.inquiryFormEmailError,				your_phone: window.inquiryFormPhoneError			},			submitHandler: function() { processInquiry(); },			debug:true		});				jQuery('#booking-form').validate({			onkeyup: false,			rules: {				first_name: {					required: true				},				last_name: "required",				email: {					required: true,					email: true				},				confirm_email: {					required: true,					equalTo: "#email"				},				phone: "required",				address: "required",				town: "required",				zip: "required",				country: "required"			},			invalidHandler: function(e, validator) {				var errors = validator.numberOfInvalids();				if (errors) {					var message = errors == 1						? window.formSingleError						: window.formMultipleError.format(errors);					jQuery("div.error span p").html(message);					jQuery("div.error").show();				} else {					jQuery("div.error").hide();				}			},			messages: {				first_name: window.bookingFormFirstNameError,				last_name: window.bookingFormLastNameError,				email: window.bookingFormEmailError,				confirm_email: {					required: window.bookingFormConfirmEmailError1,					equalTo: window.bookingFormConfirmEmailError2				},				phone: window.bookingFormPhoneError,				address: window.bookingFormAddressError,				town: window.bookingFormCityError,				zip: window.bookingFormZipError,				country: window.bookingFormCountryError			},			submitHandler: function() { processBooking(); },			debug:true		});				jQuery('#cancel-booking').on('click', function(event) {			hideBookingForm();			jQuery('.book-sf-accommodation').show();			showAccommodationInfo();		});					if (typeof jQuery('#sc_vacancy_datepicker') !== 'undefined') {			jQuery('#book-accommodation-' + window.accommodationId).hide();			var datepickerDateFormat = 'yy-mm-dd';			jQuery('#sc_vacancy_datepicker').datepicker({				dateFormat: datepickerDateFormat,				numberOfMonths: 1,				minDate: 0,				beforeShowDay: function(d) {					var date1 = null;					var date2 = null;					if (jQuery("#date_from1").val())						date1 = jQuery.datepicker.parseDate(datepickerDateFormat, jQuery("#date_from1").val());					if (jQuery("#date_to1").val())						date2 = jQuery.datepicker.parseDate(datepickerDateFormat, jQuery("#date_to1").val());					if (window.sc_vd) {						var dateTextForCompare = d.getFullYear() + '-' + ("0" + (d.getMonth() + 1)).slice(-2) + '-' + ("0" + d.getDate()).slice(-2);						if (jQuery.inArray(dateTextForCompare, window.sc_vd) == -1)							return [false, 'ui-datepicker-unselectable ui-state-disabled'];					}										return [true, date1 && ((d.getTime() == date1.getTime()) || (date2 && d >= date1 && d <= date2)) ? "dp-highlight" : ""];				},				onSelect: function(dateText, inst) {					jQuery('#book-accommodation-' + window.accommodationId ).hide();					var dateTextForParse = inst.currentYear + '-' + (inst.currentMonth + 1) + '-' + ("0" + inst.currentDay).slice(-2);					var date1 = null;					if (jQuery("#date_from1").val())						date1 = jQuery.datepicker.parseDate(datepickerDateFormat, jQuery("#date_from1").val());					var date2 = null;					if (jQuery("#date_to1").val())						date2 = jQuery.datepicker.parseDate(datepickerDateFormat, jQuery("#date_to1").val());					if (!date1 || date2) {						jQuery("#date_from").html(dateText);						jQuery("#date_from1").val(dateText);						jQuery("#date_to").html("");						jQuery("#date_to1").val("");					} else {						var dateCompare = Date.parse(dateTextForParse);						if (dateCompare < date1)						{							jQuery("#date_from").html(dateText);							jQuery("#date_from1").val(dateText);							jQuery("#date_to").html("");							jQuery("#date_to1").val("");													}						else						{							date1 = jQuery.datepicker.parseDate(datepickerDateFormat, jQuery("#date_from1").val());							date2 = jQuery.datepicker.parseDate(datepickerDateFormat, dateText);														var allOk = true;							for (var d = date1; d <= date2; d.setDate(d.getDate() + 1)) {								var dateTextForCompare = d.getFullYear() + '-' + ("0" + (d.getMonth() + 1)).slice(-2) + '-' +  ("0" + d.getDate()).slice(-2);								if (jQuery.inArray(dateTextForCompare, window.sc_vd) == -1)									allOk = false;							}														if (!allOk) {								jQuery("#date_from").html(dateText);								jQuery("#date_from1").val(dateText);								jQuery("#date_to").html("");								jQuery("#date_to1").val("");																} else {								jQuery('#book-accommodation-' + window.accommodationId ).show();								jQuery("#date_to").html(dateText);								jQuery("#date_to1").val(dateText);							}						}					}				},				onChangeMonthYear: function (year, month, inst) {					jQuery('#book-accommodation-' + window.accommodationId ).hide();				}			});		}	});		function showReviewForm() {		jQuery('.three-fourth').hide();		jQuery('.right-sidebar').hide();		jQuery('.full-width.review-section').show();	}		function showInquiryForm() {		jQuery('.three-fourth').hide();		jQuery('.right-sidebar').hide();		jQuery('.full-width.inquiry-section').show();	}		function hideReviewForm() {		jQuery('.three-fourth').show();		jQuery('.right-sidebar').show();		jQuery('.full-width.review-section').hide();	}		function hideInquiryForm() {		jQuery('.three-fourth').show();		jQuery('.right-sidebar').show();		jQuery('.full-width.inquiry-section').hide();	}		function processReview() {		var likes = jQuery('#likes').val();		var dislikes = jQuery('#dislikes').val();		var dataObj = {				'action':'review_ajax_request',				'likes' : likes,				'dislikes' : dislikes,				'userId' : window.currentUserId,				'postId' : window.accommodationId,				'nonce' : BYTAjax.nonce			}						for (var i = 0; i < window.reviewFields.length; i++) {			var slug = window.reviewFields[i];			dataObj["reviewField_" + slug] = jQuery("input[type='radio'][name='reviewField_" + slug + "']:checked").val();		}				jQuery.ajax({			url: BYTAjax.ajaxurl,			data: dataObj,			success:function(data) {				// This outputs the result of the ajax request				console.log(data);				jQuery('.review_accommodation').hide(); // hide the button				hideReviewForm();			},			error: function(errorThrown){				console.log(errorThrown);			}		}); 	}		function processInquiry() {		var your_name = jQuery('#your_name').val();		var your_email = jQuery('#your_email').val();		var your_phone = jQuery('#your_phone').val();		var your_message = jQuery('#your_message').val();		var dataObj = {				'action':'inquiry_ajax_request',				'your_name' : your_name,				'your_email' : your_email,				'your_phone' : your_phone,				'your_message' : your_message,				'userId' : window.currentUserId,				'postId' : window.accommodationId,				'nonce' : BYTAjax.nonce			}						jQuery.ajax({			url: BYTAjax.ajaxurl,			data: dataObj,			success:function(data) {				// This outputs the result of the ajax request				console.log(data);				jQuery('.inquiry_accommodation').hide(); // hide the button				hideInquiryForm();			},			error: function(errorThrown){				console.log(errorThrown);			}		}); 	}	function processBooking() {				var first_name = jQuery('#first_name').val();		var last_name = jQuery('#last_name').val();		var email = jQuery('#email').val();		var phone = jQuery('#phone').val();		var address = jQuery('#address').val();		var town = jQuery('#town').val();		var zip = jQuery('#zip').val();		var country = jQuery('#country').val();		var requirements = jQuery('#requirements').val();		var accommodation_id = jQuery('#accommodation_id').val();		var room_type_id = jQuery('#room_type_id').val();		if (!room_type_id)			room_type_id = 0;		var room_count = jQuery('#room_count').val();		if (!room_count)			room_count = 1;		var date_to = jQuery('#date_to1').val();		var date_from = jQuery('#date_from1').val();		var c_val_s = jQuery('#c_val_s').val();		var c_val_1 = jQuery('#c_val_1').val();		var c_val_2 = jQuery('#c_val_2').val();		jQuery("#confirm_first_name").html(first_name);		jQuery("#confirm_last_name").html(last_name);		jQuery("#confirm_email_address").html(email);		jQuery("#confirm_phone").html(phone);		jQuery("#confirm_street").html(address);		jQuery("#confirm_town").html(town);		jQuery("#confirm_zip").html(zip);		jQuery("#confirm_country").html(country);		jQuery("#confirm_requirements").html(requirements);				jQuery.ajax({			url: BYTAjax.ajaxurl,			data: {				'action':'book_ajax_request',				'first_name' : first_name,				'last_name' : last_name,				'email' : email,				'phone' : phone,				'address' : address,				'town' : town,				'zip' : zip,				'country' : country,				'requirements' : requirements,				'date_to' : date_to,				'date_from' : date_from,				'accommodation_id' : accommodation_id,				'room_type_id' : room_type_id,				'room_count' : room_count,				'c_val_s' : c_val_s,				'c_val_1' : c_val_1,				'c_val_2' : c_val_2,				'nonce' : BYTAjax.nonce			},			success:function(data) {				// This outputs the result of the ajax request				console.log(data);				if (data == 'captcha_error') {					jQuery("div.error span p").html(window.InvalidCaptchaMessage);					jQuery("div.error").show();				} else {					jQuery("div.error span p").html('');					jQuery("div.error").hide();					hideBookingForm();					showConfirmationForm();				}			},			error: function(errorThrown){				console.log(errorThrown);			}		}); 	}		function showBookingForm() {		jQuery('#booking-form').show();		jQuery('.three-fourth .gallery').hide();		jQuery('.three-fourth .inner-nav').hide();		jQuery('.three-fourth .tab-content').hide();	}		function hideBookingForm() {		jQuery('#booking-form').hide();	}				function showConfirmationForm() {		jQuery('#confirmation-form').show();	}		function hideConfirmationForm() {		jQuery('#confirmation-form').hide();	}		function showAccommodationInfo() {		jQuery('.three-fourth .gallery').show();		jQuery('.three-fourth .inner-nav').show();		jQuery('.three-fourth .tab-content').show();		jQuery(".tab-content").hide();		jQuery(".tab-content:first").show();		jQuery(".inner-nav li:first").addClass("active");	}		function initialize_map() {		var secheltLoc = new google.maps.LatLng(window.accommodationLocationLatitude, window.accommodationLocationLongitude);		var myMapOptions = {			 zoom: 15			,center: secheltLoc			,mapTypeId: google.maps.MapTypeId.ROADMAP		};		var theMap = new google.maps.Map(document.getElementById("map_canvas"), myMapOptions);		var marker = new google.maps.Marker({			map: theMap,			draggable: true,			position: new google.maps.LatLng(window.accommodationLocationLatitude, window.accommodationLocationLongitude),			visible: true		});		var boxText = document.createElement("div");		boxText.innerHTML = "<strong>" + window.accommodationTitle + "</strong><br />" + window.accommodationAddress + "<br />" + window.accommodationWebsite + "";		var myOptions = {			 content: boxText			,disableAutoPan: false			,maxWidth: 0			,pixelOffset: new google.maps.Size(-140, 0)			,zIndex: null			,closeBoxURL: ""			,infoBoxClearance: new google.maps.Size(1, 1)			,isHidden: false			,pane: "floatPane"			,enableEventPropagation: false		};		google.maps.event.addListener(marker, "click", function (e) {			ib.open(theMap, this);		});		var ib = new InfoBox(myOptions);		ib.open(theMap, marker);	}	